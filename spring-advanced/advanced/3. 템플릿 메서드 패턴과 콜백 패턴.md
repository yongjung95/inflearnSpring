## 3. 템플릿 메서드 패턴과 콜백 패턴

* ### 변하는 것과 변하지 않는 것을 분리
  * 좋은 설계는 `변하는 것`과 `변하지 않는 것`을 분리하는 것이다.


* ### 템플릿 메서드 패턴(Template Method Pattern)
  * 이름 그대로 템플릿을 사용하는 방식이다.
  * `다형성`을 사용해서 `변하는 부분`과 `변하지 않는 부분`을 분리하는 방법
  * 사용법
    * 템플릿은 기준이 되는 거대한 틀이고, 틀에 변하지 않는 부분을 몰아둔다.
    * 그리고 일부 변하는 부분을 별도로 호출해서 해결한다.
  * 템플릿 메서드 패턴 구조
    ![img.png](images/템플릿%20%20메서드%20패턴%20구조.png)
  * 템플릿 메서드 패턴 인스턴스 호출
    ![img.png](images/템플릿%20메서드%20패턴%20인스턴스%20호출.png)
  * `GOF 템플릿 메서드 패턴 정의`
    * 부모 클래스에 알고리즘의 골격인 템플릿을 정의하고, 일부 변경되는 로직은 자식 클래스에 정의하는 것이다.
    * 이렇게 하면 자식 클래스가 알고리즘의 전체 구조를 변경하지 않고, 특정 부분만 재정의할 수 있다.
    * 결국 상속과 오버라이딩을 통한 다형성으로 문제를 해결하는 것이다.
  * 단점
    * 상속을 사용하기에 상속을 사용함으로서의 단점들을 그대로 안고 간다.
    * 자식 클래스가 부모 클래스의 기능을 사용하지 않아도, 부모 클래스에 강하게 의존하게 된다.
    * 잘못된 의존관계 때문에 부모 클래스를 수정하면, 자식 클래스에도 영향을 줄 수 있다.
    * `템플릿 메서드 패턴`은 상속 구조를 사용하기 때문에, 별도의 클래스나 익명 내부 클래스를 만들어야 하는 부분도 복잡하다.