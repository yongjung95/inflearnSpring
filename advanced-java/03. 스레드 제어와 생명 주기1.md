## 03. 스레드 제어와 생명 주기1
## 스레드 기본 정보
- **Thread** 클래스는 스레드를 생성하고 관리하는 기능을 제공한다.
### 1. 스레드 생성
- 스레드를 생성할 때는 실행할 **Runnable** 인터페이스와 구현체와 스레드의 이름을 전달할 수 있다.


### 2. 스레드 객체 정보
- **Thread** 클래스의 **toString()** 메서드는 스레드 ID, 스레드 이름, 우선순위, 스레드 그룹을 포함하는 문자열을 반환한다.


### 3. 스레드 ID
- **threadId()**
  - 스레드의 고유 식별자를 반환하는 메서드이다.
  - 이 **ID는 JVM 내에서 각 스레드에 대해 유일**하다.
  - ID는 스레드가 생성될 때 할당되며, 직접 지정할 수 없다.


### 4. 스레드 이름
- **getName()**
  - 스레드의 이름을 반환하는 메서드이다.
  - 참고로 스레드 ID는 중복되지 않지만, 스레드 이름은 중복될 수 있다.


### 5. 스레드 우선순위
- **getPriority()**
  - 스레드의 우선순위를 반환하는 메서드이다.
  - 우선순위는 1(가장 낮음) ~ 10(가장 높음)까지의 값을 설정할 수 있으며, 기본 값은 5이다.
  - 우선순위는 스레드 스케줄러가 어떤 스레드를 우선 실행할지 결정하는 데 사용된다.
    - 하지만 실제 실행 순서는 **JVM 구현과 운영체제에 따라 달라 질 수 있다.**


### 6. 스레드 그룹
- **getThreadGroup()**
  - 스레드가 속한 스레드 그룹을 반환하는 메서드이다.
  - 스레드 그룹은 스레드를 그룹화하여 관리할 수 있는 기능을 제공한다.
  - 기본적으로 모든 스레드는 부모 스레드와 동일한 스레드 그룹에 속하게 된다.
- **부모 스레드**
  - 새로운 스레드를 생성하는 스레드를 의미한다.
  - 스레드는 기본적으로 다른 스레드에 의해 생성된다.
    - 이러한 생성 관계에서 새로 생성된 스레드는 생성한 스레드를 **부모**로 간주한다.


### 7. 스레드 상태
- **getState()**
  - 스레드의 현재 상태를 반환하는 메서드이다.
- 스레드 상태
  - NEW
    - 스레드가 아직 시작되지 않은 상태이다.
  - RUNNABLE
    - 스레드가 실행 중이거나 실행될 준비가 된 상태이다
  - BLOCKED
    - 스레드가 동기화 락을 기다리는 상태이다.
  - WAITING
    - 스레드가 다른 스레드의 특정 작업이 완료되기를 기다리는 상태이다.
  - TIMED_WAITING
    - 일정 시간 동안 기다리는 상태이다.
  - TERMINATED
    - 스레드가 실행을 마친 상태이다.


## 스레드의 생명 주기
![img.png](images/스레드의%20생명%20주기.png)

### 자바 스레드의 상태 전이 과정
- **New → Runnable**
  - start() 메서드를 호출하면 스레드가 Runnable 상태로 전이된다.
- **Runnable → Blocked/Waiting/Timed Waiting**
  - 스레드가 락을 얻지 못하거나, wait() 또는 sleep() 메서드를 호출할 때 해당 상태로 전이된다.
- **Blocked/Waiting/Timed Waiting → Runnable**
  - 스레드가 락을 얻거나, 기다림이 완료되면 다시 Runnable 상태로 돌아간다.
- **Runnable → Terminated**
  - 스레드의 run() 메서드가 완료되면 스레드는 Terminated 상태가 된다.


## 체크 예외 재정의
- **Runnable** 인터페이스에서 **run()** 메서드를 구현할 때 **InterruptedException** 체크 예외를 밖으로 던질 수 없는 이유를 알아보자.

### 자바에서 메서드를 정의할 때, 재정의 메서드가 지켜야할 예외와 관련된 규칙
- **체크 예외**
  - 부모 메서드가 체크 예외를 던지지 않는 경우, 재정의된 자식 메서드도 체크 예외를 던질 수 없다.
  - 자식 메서드는 부모 메서드가 던질 수 있는 체크 예외의 하위 타입만 던질 수 있다.
- **언체크(런타임) 예외**
  - 예외 처리를 강제하지 않으므로 상관없이 던질 수 있다.


### 자바가 이런 제약을 두는 이유
- 부모 클래스의 메서드를 호출하는 클라이언트 코드는 부모 메서드가 던지는 특정 예외만을 처리하도록 작성한다.
- 자식 클래스가 더 넓은 범위의 예외를 던지면 해당 코드는 모든 예외를 제대로 처리하지 못할 수 있다.
- 이는 예외 처리의 일관성을 해치고, 예상하지 못한 런타임 오류를 초래할 수 있다.


### 체크 예외 재정의 규칙
- 자식 클래스에 재정의된 메서드는 부모 메서드가 던질 수 있는 체크 예외의 하위 타입만을 던질 수 있다.
- 원래 메서드가 체크 예외를 던지지 않는 경우, 재정의된 메서드도 체크 예외를 던질 수 없다.