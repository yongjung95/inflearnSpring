# 2. 람다

## 람다 정의
- 자바 8부터 도입된 자바에서 함수형 프로그래밍을 지원하기 위한 핵심 기능
- `람다는 익명 함수`이다.
  - 따라서 이름 없이 함수를 표현한다.
- 메서드나 함수는 다음과 같이 표현
    ```
    반환타입 메서드명(매개변수) {
        본문
    }
    ```
- 람다는 다음과 같이 간결하게 표현한다
    ```
    (매개변수) -> {본문}
    ```
    - 람다는 익명 함수이기 때문에 이름이 없다.
- 람다는 표현이 간결하다.
  - 익명 클래스를 사용하면 new 키워드, 생성할 클래스명, 메서드명, 반환타입 등을 모두 나열해야 한다.
  - 람다를 사용하면 이런 부분을 모두 생략하고, 매개변수와 본문만 적으면 된다.
- 람다는 변수처럼 다를 수 있다.
- 람다도 클래스가 만들어지고, 인스턴스가 생성된다.
  - 람다도 익명 클래스처럼 클래스가 만들어지고, 인스턴스가 생성된다.

### 람다 vs 람다식
- 람다
  - 익명 함수를 지칭하는 일반적인 용어다.
  - 쉽게 이야기 해서 개념이다.
- 람다식
  - (매개변수) -> {본문} 형태로 람다를 구현하는 구체적인 문법 표현을 지칭한다.
- 쉽게 이야기해서 람다는 개념을, 람다식은 자바에서 그 개념을 구현하는 구체적인 문법을 의미한다.
- 람다가 넓은 의미이고, 또 실무에서 두 용어를 구분해서 사용하지는 않는다.

### 정리
- 람다를 사용하면 익명 클래스 사용의 보일러플레트 코드를 크게 줄이고, 간결한 코드로 생산성과 가독성을 높일 수 있다.
- 대부분의 익명 클래스는 람다로 대체할 수 있다.
  - 참고로 람다가 익명 클래스를 완전히 대체할 수 있는 것은 아니다.
- 람다를 사용할 때 new 키워드를 사용하지 않지만, 람다도 익명 클래스처럼 인스턴스가 생성된다.


## 함수형 인터페이스
- `함수형 인터페이스`는 정확히 하나의 추상 메서드를 가지는 인터페이스를 말한다.
- 람다는 무상 메서드가 하나인 `함수형 인터페이스`에만 할당할 수 있다.
- 단일 추상 메서드를 줄여서 `SAM(Single Abstract Method)`이라 한다.
- 참고로 람다는 클래스, 추상 클래스에는 할당할 수 없다.
  - 오직 단일 추상 메서드를 가지는 인터페이스에만 할당할 수 있다.

### @FunctionallInterface
- 단 하나의 추상 메서드가 아니면 컴파일 단계에서 오류가 발생해주는 애노테이션이다.
  - 따라서 함수형 인터페이스임을 보장할 수 있다.
- `@FunctionalInterface`을 통해 함수형 인터페이스임을 선언해두면, 이후에 누군가 실루로 추상 메서드를 추가할 때 컴파일 오류가 발생한다.


## 람다와 시그니처
- 람다를 함수형 인터페이스에 할당할 때는 메서드의 형태를 정의하는 요소인 메서드 시그니처가 일치해야 한다.
- 메서드 시그니처의 주요 구성 요소
  - 메서드 이름
  - 매개변수의 수와 타입(순서 포함)
  - 반환 타입
- 람다는 익명 함수이므로 시그니처에서 이름은 제외하고, `매개변수, 반환 타입이 함수형 인터페이스에 선언한 메서드`와 맞아야 한다.


## 람다와 생략
- 매개변수 타입
  - 생략 가능하지만 필요하다면 명시적으로 작성할 수 있다
- 반환 타입
  - 문법적으로 명시할 수 없고, 식의 결과를 보고 컴파일러가 항상 추론한다.
- 람다는 보통 간략하게 사용하는 것을 권장한다.
  - 단일 표현식이면 중괄호와 리턴을 생략.
  - 타입 추론을 통해 매개변수의 타입을 생략. (컴파일러가 추론할 수 있다면, 생략)


## 람다의 전달
- 람다는 함수형 인터페이스를 통해 변수에 대입하거나, 메서드에 전달하거나 반환할 수 있다.
- 람다는 함수형 인터페이스를 구현한 익명 클래스 인스턴스와 같은 개념으로 이해하면 된다.
- 람다를 변수에 대입한다는 것은 `람다 인스턴스의 참조값을 대입`하는 것이고, 람다를 메서드(함수)의 매개변수나 반환 값으로 넘긴다는 것 역시 `람다 인스턴스의 참조값을 전달, 반환`하는 것이다.
  - 람다를 변수에 대입 : MyFunction add = (a, b) -> a + b; 처럼 함수형 인터페이스 타입의 변수에 람다 인스턴스의 참조를 대입한다.
  - 람다를 메서드 매개변수에 전달 : 메서드 호출 시 람다 인스턴스의 참조를 직접 넘기거나, 이미 람다 인스턴스를 담고 있는 변수를 전달한다.

## 고차 함수
- 함수를 값처럼 다루는 함수
- 일반적으로 다음 두 가지 중 하나를 만족하면 고차 함수라 한다.
  - 함수를 인자로 받는 함수(메서드)
  - 함수를 반환하는 함수(메서드)
- 자바에서는 함수형 인터페이스에 익명 클래스나 람다를 담아서 주고받음으로써 고차 함수를 구현할 수 있다.


## 정리
### 람다란?
- 자바 8에서 도입된 `익명 함수`로, 이름 없이 간결하게 함수를 표현한다.
- 예) `(x) -> x + 1`
- 익명 클래스보다 보일러플레이트 코드를 줄여 생산성과 가독성을 높이는 문법 설탕 역할

### 함수형 인터페이스
- 람다를 사용할 수 있는 기반으로, `단일 추상 메서드(SAM)`만 포함하는 인터페이스
- `@FunctionalInterface`로 보장하며, 하나의 메서드만 정의
- 여러 메서드가 있으면 람다 할당 불가(모호성 방지)

### 람다 문법
- 기본 형태: (매개변수) -> {본문}
- 생략 가능
  - 단일 표현식(본문, 반환 생략): `x -> x + 1`
  - 타입 추론: `(int x) -> x (x) -> x`
  - 매개변수 괄호(단일 매개변수일 때): `x -> x`
- 시그니처(매개변수 수/타입, 반환 타입)이 함수형 인터페이스와 일치해야 함

### 람다 활용
- 변수 대입: `MyFunction f = (a, b) -> a + b;` 처럼 람다 인스턴스를 변수에 저장.
- 메서드 전달: `calculate((a, b) -> a + b)` 로 함수처럼 전달 가능.
- 반환: `return (a, b) -> a + b;` 로 메서드에서 람다를 반환.

### 고차 함수
- 함수를 인자나 반환값으로 다루는 함수(예: filter , map , reduce ).
- 자바에서는 함수형 인터페이스와 람다로 구현하며, 코드의 유연성과 추상화 수준을 높임.
  - 예: List<Integer> filter(List<Integer> list, MyPredicate p) 는 조건 함수를 받아 동작.

### 기타
- 람다는 익명 클래스를 간소화한 도구지만, 내부적으로 인스턴스가 생성됨.