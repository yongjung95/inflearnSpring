# 5. 람다 vs 익명 클래스
## 문법 및 가독성
- 익명 클래스
  - 새로운 클래스를 정의하고 바로 인스턴스를 생성한다.
  - 문법적으로 다소 복잡하고 장황하며, 여러 메서드를 동시에 오버라이드 할 수도 있다.
- 람다
  - 단일 메서드만을 가지는 함수형 인터페이스를 구현할 때 사용되며, 문법이 간결하여 읽기 쉽다.


## this 키워드 해석
- 익명 클래스
  - 내부의 this는 익명 클래스 자체의 인스턴스를 가리킨다.
- 람다
  - 내부의 this는 람다가 선언된 외부 클래스의 인스턴스를 가리킨다.


## 상속 및 상태 관리
- 익명 클래스
  - 클래스를 상속하거나 여러 메서드를 가진 인터페이스를 구현할 수 있고, 내부에 `상태(필드)`를 가질 수 있다.
- 람다
  - 오직 함수형 인터페이스만 구현 가능하며, 내부 상태(필드)를 유지하기 어렵다(함수로서 동작)


## 호환성과 내부 동작
- 익명 클래스
  - 자바의 오래된 버전(람다 이전 버전)에서도 사용 가능하며, 컴파일 시 실제 익명 클래스가 생성된다.
- 람다
  - 자바 8 이상에서 사용 가능하며, 내부적으로 `invokeDynamic`을 활용하여 별도의 클래스 파일이 아닌, 런타임 시점에 동적으로 람다 인스턴스를 생성한다.


## 캡처링(capturing) 규칙
- 둘 다 외부 로컬 변수를 참조할 때, `final` 또는 `사실상 final`인 지역 변수만 참조할 수 있다.
- 값이 변경되는 지역 변수는 캡처할 수 없다.


## 언제 어떤 것을 사용할까?
- 복잡한 인터페이스 구현(메서드가 여러 개)이 필요하거나, 상태를 유지해야 하는 경우는 익명 클래스를 사용한다.
- 간결성과 함수형 방식이 필요한 경우(함수형 인터페이스 하나만 구현)에는 람다가 훨씬 직관적이며, 코드량을 줄일 수 있다.


## 정리
- 자바 8 이후 람다가 등장하면서 익명 클래스가 대부분 람다로 대체되었지만, 상황에 따라(여러 메서드 구현이 필요하거나 상태 유지가 필요한 경우 등) 여전히 익명 클래스를 사용해야 할 때가 있다.
- 선택 시 가독성, 유지보수성, 필요 기능(상태 관리 여부, 인터페이스 메서드 수 등)을 기준으로 판단하면 된다.
- 물론 둘 다 선택할 수 있다면 람다를 선택하는 것이 대부분 더 나은 선택이다.